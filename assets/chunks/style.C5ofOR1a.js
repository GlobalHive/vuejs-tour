import{d as ot,s as H,a2 as nt,h as M,y as rt,o as B,c as $,j as L,r as Q,a3 as z,a4 as Y,e as P,F as it,$ as R,t as D}from"./framework.C8TadXOe.js";/*! NanoPop 2.4.2 MIT | https://github.com/Simonwep/nanopop */const at={variantFlipOrder:{start:"sme",middle:"mse",end:"ems"},positionFlipOrder:{top:"tbrl",right:"rltb",bottom:"btrl",left:"lrbt"},position:"bottom",margin:8,padding:0},lt=(l,n,c)=>{const{container:s,arrow:u,margin:t,padding:e,position:m,variantFlipOrder:d,positionFlipOrder:p}={container:document.documentElement.getBoundingClientRect(),...at,...c},{left:g,top:S}=n.style;n.style.left="0",n.style.top="0";const r=l.getBoundingClientRect(),a=n.getBoundingClientRect(),f={t:r.top-a.height-t,b:r.bottom+t,r:r.right+t,l:r.left-a.width-t},b={vs:r.left,vm:r.left+r.width/2-a.width/2,ve:r.left+r.width-a.width,hs:r.top,hm:r.bottom-r.height/2-a.height/2,he:r.bottom-a.height},[v,w="middle"]=m.split("-"),o=p[v],i=d[w],{top:h,left:k,bottom:C,right:N}=s;for(const T of o){const y=T==="t"||T==="b";let j=f[T];const[A,q]=y?["top","left"]:["left","top"],[E,F]=y?[a.height,a.width]:[a.width,a.height],[J,K]=y?[C,N]:[N,C],[U,W]=y?[h,k]:[k,h];if(!(j<U||j+E+e>J))for(const I of i){let x=b[(y?"v":"h")+I];if(!(x<W||x+F+e>K)){if(x-=a[q],j-=a[A],n.style[q]=`${x}px`,n.style[A]=`${j}px`,u){const O=y?r.width/2:r.height/2,_=F/2,V=O>_,X={s:V?_:O,m:_,e:V?_:F-O},Z={t:E,b:0,r:0,l:E},tt=x+X[I],et=j+Z[T];u.style[q]=`${tt}px`,u.style[A]=`${et}px`}return T+I}}}return n.style.left=g,n.style.top=S,null},st=(l,n,c)=>{const s=typeof l=="object"&&!(l instanceof HTMLElement)?l:{reference:l,popper:n,...c};return{update(u=s){const{reference:t,popper:e}=Object.assign(s,u);if(!e||!t)throw new Error("Popper- or reference-element missing.");return lt(t,e,s)}}};var ut=function(n,c,s,u){return n/=u/2,n<1?s/2*n*n+c:(n--,-s/2*(n*(n-2)-1)+c)},G=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},ct=function(){var n=void 0,c=void 0,s=void 0,u=void 0,t=void 0,e=void 0,m=void 0,d=void 0,p=void 0,g=void 0,S=void 0,r=void 0;function a(){return window.scrollY||window.pageYOffset}function f(o){return o.getBoundingClientRect().top+c}function b(o){p||(p=o),g=o-p,S=t(g,c,m,d),window.scrollTo(0,S),g<d?window.requestAnimationFrame(b):v()}function v(){window.scrollTo(0,c+m),n&&e&&(n.setAttribute("tabindex","-1"),n.focus()),typeof r=="function"&&r(),p=!1}function w(o){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};switch(d=i.duration||1e3,u=i.offset||0,r=i.callback,t=i.easing||ut,e=i.a11y||!1,c=a(),typeof o>"u"?"undefined":G(o)){case"number":n=void 0,e=!1,s=c+o;break;case"object":n=o,s=f(n);break;case"string":n=document.querySelector(o),s=f(n);break}switch(m=s-c+u,G(i.duration)){case"number":d=i.duration;break;case"function":d=i.duration(m);break}window.requestAnimationFrame(b)}return w},dt=ct();const pt=L("div",{id:"vjt-backdrop","data-hidden":""},null,-1),ft={id:"vjt-tooltip",role:"tooltip","data-arrow":"r","data-hidden":""},mt=["innerHTML"],gt={class:"vjt-actions"},vt=["textContent"],ht=["textContent"],St=["textContent"],bt={key:0,id:"vjt-arrow"},wt=ot({__name:"VTour",props:{name:{},steps:{},backdrop:{type:Boolean},autoStart:{type:Boolean},startDelay:{},highlight:{type:Boolean},margin:{},buttonLabels:{},saveToLocalStorage:{},hideSkip:{type:Boolean},hideArrow:{type:Boolean},noScroll:{type:Boolean}},emits:["onTourStart","onTourEnd"],setup(l,{expose:n,emit:c}){const s=H(void 0),u=H(void 0),t=nt({currentStep:0,lastStep:0,getCurrentStep:M(()=>e.steps[t.currentStep]),getLastStep:M(()=>e.steps[t.lastStep])}),e=l,m=c;n({startTour:p,nextStep:r,lastStep:a,endTour:f,stopTour:g,goToStep:b,resetTour:S});const d=M(()=>{var o,i;return t.currentStep===e.steps.length-1?((o=e.buttonLabels)==null?void 0:o.done)||"Done":((i=e.buttonLabels)==null?void 0:i.next)||"Next"});function p(){localStorage.getItem("vjt-"+(e.name||"default"))!=="true"&&(e.saveToLocalStorage==="step"?t.currentStep=parseInt(localStorage.getItem("vjt-"+(e.name||"default"))||"0"):t.currentStep=0,setTimeout(()=>{s.value||(s.value=st(document.querySelector(`${t.getCurrentStep.target}`),u.value,{position:t.getCurrentStep.placement||"right",margin:e.margin||(e.highlight?14:8)})),e.backdrop&&document.querySelector("#vjt-backdrop").removeAttribute("data-hidden"),v(),m("onTourStart")},e.startDelay))}function g(){e.backdrop&&document.querySelector("#vjt-backdrop").setAttribute("data-hidden",""),e.highlight&&document.querySelectorAll(".vjt-highlight").forEach(o=>o.classList.remove("vjt-highlight")),u.value.setAttribute("data-hidden","")}function S(o){g(),t.currentStep=0,t.lastStep=0,localStorage.removeItem("vjt-"+(e.name||"default")),o&&p()}function r(){if(t.lastStep=t.currentStep,t.currentStep++,t.currentStep>e.steps.length-1){f();return}v()}function a(){if(t.currentStep=t.lastStep,t.lastStep--,t.lastStep===-1&&(t.lastStep=0),t.currentStep<0){f();return}v()}function f(){g(),e.saveToLocalStorage!=="never"&&localStorage.setItem("vjt-"+(e.name||"default"),"true"),m("onTourEnd")}function b(o){t.currentStep=o,t.lastStep=o-1,t.lastStep===-1&&(t.lastStep=0),v()}async function v(){await new Promise(o=>{e.highlight&&w(),u.value.setAttribute("data-hidden",""),e.noScroll?o():dt(document.querySelector(`${t.getCurrentStep.target}`),{duration:500,offset:-100,callback:()=>{o()}})}),u.value.removeAttribute("data-hidden"),u.value.setAttribute("data-arrow",s.value.update({reference:document.querySelector(`${t.getCurrentStep.target}`),position:t.getCurrentStep.placement||"right"})||"right"),e.saveToLocalStorage==="step"&&localStorage.setItem("vjt-"+(e.name||"default"),t.currentStep.toString())}function w(){document.querySelectorAll(".vjt-highlight").forEach(o=>o.classList.remove("vjt-highlight")),document.querySelector(`${t.getCurrentStep.target}`).classList.add("vjt-highlight")}return rt(()=>{u.value=document.querySelector("#vjt-tooltip"),e.autoStart&&p()}),(o,i)=>(B(),$(it,null,[pt,L("div",ft,[Q(o.$slots,"content",z(Y({_CurrentStep:t})),()=>{var h;return[L("div",{innerHTML:(h=t.getCurrentStep)==null?void 0:h.content},null,8,mt)]}),Q(o.$slots,"actions",z(Y({lastStep:a,nextStep:r,endTour:f,_CurrentStep:t,getNextLabel:d.value,props:e})),()=>{var h,k;return[L("div",gt,[t.lastStep<t.currentStep?(B(),$("button",{key:0,type:"button",onClick:i[0]||(i[0]=R(C=>a(),["prevent"])),textContent:D(((h=e.buttonLabels)==null?void 0:h.back)||"Back")},null,8,vt)):P("",!0),e.hideSkip?P("",!0):(B(),$("button",{key:1,type:"button",onClick:i[1]||(i[1]=R(C=>f(),["prevent"])),textContent:D(((k=e.buttonLabels)==null?void 0:k.skip)||"Skip")},null,8,ht)),L("button",{type:"button",onClick:i[2]||(i[2]=R(C=>r(),["prevent"])),textContent:D(d.value)},null,8,St)])]}),e.hideArrow?P("",!0):(B(),$("div",bt))])],64))}});export{wt as _};
