import{d as ot,s as M,a2 as nt,h as _,y as rt,o as A,c as q,j as $,P as at,r as z,a3 as Q,a4 as Y,e as N,F as it,$ as V,t as D}from"./framework.C8TadXOe.js";/*! NanoPop 2.4.2 MIT | https://github.com/Simonwep/nanopop */const lt={variantFlipOrder:{start:"sme",middle:"mse",end:"ems"},positionFlipOrder:{top:"tbrl",right:"rltb",bottom:"btrl",left:"lrbt"},position:"bottom",margin:8,padding:0},st=(s,o,d)=>{const{container:u,arrow:p,margin:t,padding:e,position:g,variantFlipOrder:h,positionFlipOrder:m}={container:document.documentElement.getBoundingClientRect(),...lt,...d},{left:v,top:y}=o.style;o.style.left="0",o.style.top="0";const i=s.getBoundingClientRect(),l=o.getBoundingClientRect(),w={t:i.top-l.height-t,b:i.bottom+t,r:i.right+t,l:i.left-l.width-t},S={vs:i.left,vm:i.left+i.width/2-l.width/2,ve:i.left+i.width-l.width,hs:i.top,hm:i.bottom-i.height/2-l.height/2,he:i.bottom-l.height},[j,x="middle"]=g.split("-"),c=m[j],f=h[x],{top:L,left:k,bottom:r,right:a}=u;for(const n of c){const b=n==="t"||n==="b";let C=w[n];const[E,F]=b?["top","left"]:["left","top"],[I,O]=b?[l.height,l.width]:[l.width,l.height],[J,K]=b?[r,a]:[a,r],[U,W]=b?[L,k]:[k,L];if(!(C<U||C+I+e>J))for(const P of f){let T=S[(b?"v":"h")+P];if(!(T<W||T+O+e>K)){if(T-=l[F],C-=l[E],o.style[F]=`${T}px`,o.style[E]=`${C}px`,p){const R=b?i.width/2:i.height/2,B=O/2,H=R>B,X={s:H?B:R,m:B,e:H?B:O-R},Z={t:I,b:0,r:0,l:I},tt=T+X[P],et=C+Z[n];p.style[F]=`${tt}px`,p.style[E]=`${et}px`}return n+P}}}return o.style.left=v,o.style.top=y,null},ut=(s,o,d)=>{const u=typeof s=="object"&&!(s instanceof HTMLElement)?s:{reference:s,popper:o,...d};return{update(p=u){const{reference:t,popper:e}=Object.assign(u,p);if(!e||!t)throw new Error("Popper- or reference-element missing.");return st(t,e,u)}}};var pt=function(o,d,u,p){return o/=p/2,o<1?u/2*o*o+d:(o--,-u/2*(o*(o-2)-1)+d)},G=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},ct=function(){var o=void 0,d=void 0,u=void 0,p=void 0,t=void 0,e=void 0,g=void 0,h=void 0,m=void 0,v=void 0,y=void 0,i=void 0;function l(){return window.scrollY||window.pageYOffset}function w(c){return c.getBoundingClientRect().top+d}function S(c){m||(m=c),v=c-m,y=t(v,d,g,h),window.scrollTo(0,y),v<h?window.requestAnimationFrame(S):j()}function j(){window.scrollTo(0,d+g),o&&e&&(o.setAttribute("tabindex","-1"),o.focus()),typeof i=="function"&&i(),m=!1}function x(c){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};switch(h=f.duration||1e3,p=f.offset||0,i=f.callback,t=f.easing||pt,e=f.a11y||!1,d=l(),typeof c>"u"?"undefined":G(c)){case"number":o=void 0,e=!1,u=d+c;break;case"object":o=c,u=w(o);break;case"string":o=document.querySelector(c),u=w(o);break}switch(g=u-d+p,G(f.duration)){case"number":h=f.duration;break;case"function":h=f.duration(g);break}window.requestAnimationFrame(S)}return x},dt=ct();const ft={id:"vjt-tooltip",role:"tooltip","data-arrow":"r","data-hidden":""},gt=["innerHTML"],ht={class:"vjt-actions"},St=["textContent"],mt=["textContent"],vt=["textContent"],bt={key:0,id:"vjt-arrow"},wt=ot({__name:"VTour",props:{name:{},steps:{},backdrop:{type:Boolean},autoStart:{type:Boolean},startDelay:{},highlight:{type:Boolean},margin:{},buttonLabels:{},saveToLocalStorage:{},hideSkip:{type:Boolean},hideArrow:{type:Boolean},noScroll:{type:Boolean}},emits:["onTourStart","onTourEnd","onTourStep"],setup(s,{expose:o,emit:d}){const u=M(void 0),p=M(void 0),t=nt({currentStep:0,lastStep:0,nextStep:1,getCurrentStep:_(()=>e.steps[t.currentStep]),getLastStep:_(()=>e.steps[t.lastStep]),getNextStep:_(()=>e.steps[t.nextStep])}),e=s,g=d;o({startTour:v,nextStep:l,lastStep:w,endTour:S,stopTour:y,goToStep:j,resetTour:i});const h=_(()=>{var r,a;return t.currentStep===e.steps.length-1?((r=e.buttonLabels)==null?void 0:r.done)||"Done":((a=e.buttonLabels)==null?void 0:a.next)||"Next"}),m=M(k(".vjt-highlight")?k(".vjt-highlight"):"");function v(){localStorage.getItem("vjt-"+(e.name||"default"))!=="true"&&(e.saveToLocalStorage==="step"?t.currentStep=parseInt(localStorage.getItem("vjt-"+(e.name||"default"))||"0"):t.currentStep=0,setTimeout(async()=>{await x(t.currentStep),u.value||(u.value=ut(document.querySelector(`${t.getCurrentStep.target}`),p.value,{position:t.getCurrentStep.placement||"right",margin:e.margin||(e.highlight||t.getCurrentStep.highlight?14:8)})),c(),g("onTourStart")},e.startDelay))}function y(){document.querySelector("#vjt-backdrop").setAttribute("data-hidden",""),document.querySelectorAll(".vjt-highlight").forEach(r=>r.classList.remove("vjt-highlight")),p.value.setAttribute("data-hidden","")}function i(r){y(),t.currentStep=0,t.lastStep=0,t.nextStep=1,localStorage.removeItem("vjt-"+(e.name||"default")),r&&v()}async function l(){if(await x(t.nextStep),t.lastStep=t.currentStep,t.currentStep++,t.currentStep>e.steps.length-1){S();return}t.nextStep=t.currentStep+1,c()}async function w(){if(await x(t.lastStep),t.currentStep=t.lastStep,t.lastStep--,t.lastStep===-1&&(t.lastStep=0),t.currentStep<0){S();return}t.nextStep=t.currentStep+1,c()}function S(){y(),e.saveToLocalStorage!=="never"&&localStorage.setItem("vjt-"+(e.name||"default"),"true"),g("onTourEnd")}function j(r){x(r),t.currentStep=r,t.lastStep=r-1,t.lastStep===-1&&(t.lastStep=0),t.nextStep=r+1,c()}async function x(r){var a,n;await((n=(a=e.steps[r])==null?void 0:a.onBefore)==null?void 0:n.call(a))}async function c(){var r,a;await new Promise(n=>{f(),L(),p.value.setAttribute("data-hidden",""),!e.noScroll&&!t.getCurrentStep.noScroll?dt(document.querySelector(`${t.getCurrentStep.target}`),{duration:500,offset:-100,callback:()=>{n()}}):n()}),p.value.removeAttribute("data-hidden"),p.value.setAttribute("data-arrow",u.value.update({reference:document.querySelector(`${t.getCurrentStep.target}`),position:t.getCurrentStep.placement||"right"})||"right"),e.saveToLocalStorage==="step"&&localStorage.setItem("vjt-"+(e.name||"default"),t.currentStep.toString()),await((a=(r=t.getCurrentStep).onAfter)==null?void 0:a.call(r)),g("onTourStep")}function f(){document.querySelectorAll(".vjt-highlight").forEach(r=>r.classList.remove("vjt-highlight")),!(!e.highlight&&!t.getCurrentStep.highlight)&&(document.querySelector(`${t.getCurrentStep.target}`).classList.add("vjt-highlight"),m.value=k(".vjt-highlight"))}function L(){e.backdrop||t.getCurrentStep.backdrop?document.querySelector("#vjt-backdrop").removeAttribute("data-hidden"):document.querySelector("#vjt-backdrop").setAttribute("data-hidden","")}rt(()=>{p.value=document.querySelector("#vjt-tooltip"),e.autoStart&&v()});function k(r){const a=document.querySelector(r);if(!a)return"";const n=a.getBoundingClientRect();return`polygon(
    0% 0%,
    0% 100%,
    ${n.left}px 100%,
    ${n.left}px ${n.top}px,
    ${n.right}px ${n.top}px,
    ${n.right}px ${n.bottom}px,
    ${n.left}px ${n.bottom}px,
    ${n.left}px 100%,
    100% 100%,
    100% 0%
  )`}return(r,a)=>(A(),q(it,null,[$("div",{id:"vjt-backdrop","data-hidden":"",style:at("clip-path: "+m.value)},null,4),$("div",ft,[z(r.$slots,"content",Q(Y({_CurrentStep:t})),()=>{var n;return[$("div",{innerHTML:(n=t.getCurrentStep)==null?void 0:n.content},null,8,gt)]}),z(r.$slots,"actions",Q(Y({lastStep:w,nextStep:l,endTour:S,_CurrentStep:t,getNextLabel:h.value,props:e})),()=>{var n,b;return[$("div",ht,[t.lastStep<t.currentStep?(A(),q("button",{key:0,type:"button",onClick:a[0]||(a[0]=V(C=>w(),["prevent"])),textContent:D(((n=e.buttonLabels)==null?void 0:n.back)||"Back")},null,8,St)):N("",!0),e.hideSkip?N("",!0):(A(),q("button",{key:1,type:"button",onClick:a[1]||(a[1]=V(C=>S(),["prevent"])),textContent:D(((b=e.buttonLabels)==null?void 0:b.skip)||"Skip")},null,8,mt)),$("button",{type:"button",onClick:a[2]||(a[2]=V(C=>l(),["prevent"])),textContent:D(h.value)},null,8,vt)])]}),e.hideArrow?N("",!0):(A(),q("div",bt))])],64))}});export{wt as _};
