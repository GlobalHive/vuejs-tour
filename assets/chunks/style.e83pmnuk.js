import{d as ot,s as V,a2 as nt,h as P,y as rt,o as A,c as $,j as _,r as Q,a3 as z,a4 as Y,e as R,F as at,$ as D,t as H}from"./framework.C8TadXOe.js";/*! NanoPop 2.4.2 MIT | https://github.com/Simonwep/nanopop */const it={variantFlipOrder:{start:"sme",middle:"mse",end:"ems"},positionFlipOrder:{top:"tbrl",right:"rltb",bottom:"btrl",left:"lrbt"},position:"bottom",margin:8,padding:0},lt=(i,o,u)=>{const{container:l,arrow:s,margin:t,padding:e,position:f,variantFlipOrder:g,positionFlipOrder:h}={container:document.documentElement.getBoundingClientRect(),...it,...u},{left:v,top:w}=o.style;o.style.left="0",o.style.top="0";const r=i.getBoundingClientRect(),a=o.getBoundingClientRect(),m={t:r.top-a.height-t,b:r.bottom+t,r:r.right+t,l:r.left-a.width-t},k={vs:r.left,vm:r.left+r.width/2-a.width/2,ve:r.left+r.width-a.width,hs:r.top,hm:r.bottom-r.height/2-a.height/2,he:r.bottom-a.height},[S,T="middle"]=f.split("-"),c=h[S],n=g[T],{top:p,left:d,bottom:b,right:y}=l;for(const j of c){const C=j==="t"||j==="b";let L=m[j];const[q,E]=C?["top","left"]:["left","top"],[F,I]=C?[a.height,a.width]:[a.width,a.height],[J,K]=C?[b,y]:[y,b],[U,W]=C?[p,d]:[d,p];if(!(L<U||L+F+e>J))for(const O of n){let x=k[(C?"v":"h")+O];if(!(x<W||x+I+e>K)){if(x-=a[E],L-=a[q],o.style[E]=`${x}px`,o.style[q]=`${L}px`,s){const M=C?r.width/2:r.height/2,B=I/2,N=M>B,X={s:N?B:M,m:B,e:N?B:I-M},Z={t:F,b:0,r:0,l:F},tt=x+X[O],et=L+Z[j];s.style[E]=`${tt}px`,s.style[q]=`${et}px`}return j+O}}}return o.style.left=v,o.style.top=w,null},st=(i,o,u)=>{const l=typeof i=="object"&&!(i instanceof HTMLElement)?i:{reference:i,popper:o,...u};return{update(s=l){const{reference:t,popper:e}=Object.assign(l,s);if(!e||!t)throw new Error("Popper- or reference-element missing.");return lt(t,e,l)}}};var ut=function(o,u,l,s){return o/=s/2,o<1?l/2*o*o+u:(o--,-l/2*(o*(o-2)-1)+u)},G=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},pt=function(){var o=void 0,u=void 0,l=void 0,s=void 0,t=void 0,e=void 0,f=void 0,g=void 0,h=void 0,v=void 0,w=void 0,r=void 0;function a(){return window.scrollY||window.pageYOffset}function m(c){return c.getBoundingClientRect().top+u}function k(c){h||(h=c),v=c-h,w=t(v,u,f,g),window.scrollTo(0,w),v<g?window.requestAnimationFrame(k):S()}function S(){window.scrollTo(0,u+f),o&&e&&(o.setAttribute("tabindex","-1"),o.focus()),typeof r=="function"&&r(),h=!1}function T(c){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};switch(g=n.duration||1e3,s=n.offset||0,r=n.callback,t=n.easing||ut,e=n.a11y||!1,u=a(),typeof c>"u"?"undefined":G(c)){case"number":o=void 0,e=!1,l=u+c;break;case"object":o=c,l=m(o);break;case"string":o=document.querySelector(c),l=m(o);break}switch(f=l-u+s,G(n.duration)){case"number":g=n.duration;break;case"function":g=n.duration(f);break}window.requestAnimationFrame(k)}return T},ct=pt();const dt=_("div",{id:"vjt-backdrop","data-hidden":""},null,-1),ft={id:"vjt-tooltip",role:"tooltip","data-arrow":"r","data-hidden":""},gt=["innerHTML"],ht={class:"vjt-actions"},mt=["textContent"],vt=["textContent"],St=["textContent"],bt={key:0,id:"vjt-arrow"},wt=ot({__name:"VTour",props:{name:{},steps:{},backdrop:{type:Boolean},autoStart:{type:Boolean},startDelay:{},highlight:{type:Boolean},margin:{},buttonLabels:{},saveToLocalStorage:{},hideSkip:{type:Boolean},hideArrow:{type:Boolean},noScroll:{type:Boolean}},emits:["onTourStart","onTourEnd","onTourStep"],setup(i,{expose:o,emit:u}){const l=V(void 0),s=V(void 0),t=nt({currentStep:0,lastStep:0,getCurrentStep:P(()=>e.steps[t.currentStep]),getLastStep:P(()=>e.steps[t.lastStep])}),e=i,f=u;o({startTour:h,nextStep:r,lastStep:a,endTour:m,stopTour:v,goToStep:k,resetTour:w});const g=P(()=>{var n,p;return t.currentStep===e.steps.length-1?((n=e.buttonLabels)==null?void 0:n.done)||"Done":((p=e.buttonLabels)==null?void 0:p.next)||"Next"});function h(){localStorage.getItem("vjt-"+(e.name||"default"))!=="true"&&(e.saveToLocalStorage==="step"?t.currentStep=parseInt(localStorage.getItem("vjt-"+(e.name||"default"))||"0"):t.currentStep=0,setTimeout(()=>{l.value||(l.value=st(document.querySelector(`${t.getCurrentStep.target}`),s.value,{position:t.getCurrentStep.placement||"right",margin:e.margin||(e.highlight||t.getCurrentStep.highlight?14:8)})),S(),f("onTourStart")},e.startDelay))}function v(){(e.backdrop||t.getLastStep.backdrop)&&document.querySelector("#vjt-backdrop").setAttribute("data-hidden",""),(e.highlight||t.getLastStep.highlight)&&document.querySelectorAll(".vjt-highlight").forEach(n=>n.classList.remove("vjt-highlight")),s.value.setAttribute("data-hidden","")}function w(n){v(),t.currentStep=0,t.lastStep=0,localStorage.removeItem("vjt-"+(e.name||"default")),n&&h()}function r(){if(t.lastStep=t.currentStep,t.currentStep++,t.currentStep>e.steps.length-1){m();return}S()}function a(){if(t.currentStep=t.lastStep,t.lastStep--,t.lastStep===-1&&(t.lastStep=0),t.currentStep<0){m();return}S()}function m(){v(),e.saveToLocalStorage!=="never"&&localStorage.setItem("vjt-"+(e.name||"default"),"true"),f("onTourEnd")}function k(n){t.currentStep=n,t.lastStep=n-1,t.lastStep===-1&&(t.lastStep=0),S()}async function S(){var n,p,d,b;await((p=(n=t.getCurrentStep).onBefore)==null?void 0:p.call(n)),await new Promise(y=>{T(),c(),s.value.setAttribute("data-hidden",""),!e.noScroll&&!t.getCurrentStep.noScroll?ct(document.querySelector(`${t.getCurrentStep.target}`),{duration:500,offset:-100,callback:()=>{y()}}):y()}),s.value.removeAttribute("data-hidden"),s.value.setAttribute("data-arrow",l.value.update({reference:document.querySelector(`${t.getCurrentStep.target}`),position:t.getCurrentStep.placement||"right"})||"right"),e.saveToLocalStorage==="step"&&localStorage.setItem("vjt-"+(e.name||"default"),t.currentStep.toString()),await((b=(d=t.getCurrentStep).onAfter)==null?void 0:b.call(d)),f("onTourStep")}function T(){document.querySelectorAll(".vjt-highlight").forEach(n=>n.classList.remove("vjt-highlight")),!(!e.highlight&&!t.getCurrentStep.highlight)&&document.querySelector(`${t.getCurrentStep.target}`).classList.add("vjt-highlight")}function c(){e.backdrop||t.getCurrentStep.backdrop?document.querySelector("#vjt-backdrop").removeAttribute("data-hidden"):document.querySelector("#vjt-backdrop").setAttribute("data-hidden","")}return rt(()=>{s.value=document.querySelector("#vjt-tooltip"),e.autoStart&&h()}),(n,p)=>(A(),$(at,null,[dt,_("div",ft,[Q(n.$slots,"content",z(Y({_CurrentStep:t})),()=>{var d;return[_("div",{innerHTML:(d=t.getCurrentStep)==null?void 0:d.content},null,8,gt)]}),Q(n.$slots,"actions",z(Y({lastStep:a,nextStep:r,endTour:m,_CurrentStep:t,getNextLabel:g.value,props:e})),()=>{var d,b;return[_("div",ht,[t.lastStep<t.currentStep?(A(),$("button",{key:0,type:"button",onClick:p[0]||(p[0]=D(y=>a(),["prevent"])),textContent:H(((d=e.buttonLabels)==null?void 0:d.back)||"Back")},null,8,mt)):R("",!0),e.hideSkip?R("",!0):(A(),$("button",{key:1,type:"button",onClick:p[1]||(p[1]=D(y=>m(),["prevent"])),textContent:H(((b=e.buttonLabels)==null?void 0:b.skip)||"Skip")},null,8,vt)),_("button",{type:"button",onClick:p[2]||(p[2]=D(y=>r(),["prevent"])),textContent:H(g.value)},null,8,St)])]}),e.hideArrow?R("",!0):(A(),$("div",bt))])],64))}});export{wt as _};
